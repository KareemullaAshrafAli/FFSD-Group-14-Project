<!DOCTYPE html>
<html lang="en">

<head>


    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/CSS/Sales_Agent_Home_CSS_Styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <link rel="icon" href="/IMAGES/LOGO_FAVICON/Favicon_Icon.ico" type="image/x-icon" sizes="16x16 32x32">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <script src="/JAVASCRIPT/SA_Form_Validation.js"></script>

    <style>
        * {
            margin: 0;
            text-decoration: none;
        }

        html {
            font-size: 80.5%;
            overflow-x: hidden;
            scroll-behavior: smooth;
            scroll-padding-top: 7rem;

        }
    </style>
   

</head>

<body>



    <header class="header">
        <img class="HI1" style="width:18%; height:14%; margin-left:4px; margin-top:1px; "
            src="../Images/LOGO_FAVICON/Main_Logo.png" alt="">
        <nav style="margin-left: 3rem;" class="navbar">
            <a href="/">Home</a>
            <a href="Farmer_SignUp_Login_Page" target="_blank"> Farmer</a>
            <a href="Customer_SignUp_Login_Page" target="_blank"> Customer </a>
        </nav>

        <div class="icons">
            <div class="fas fa-bars" id="menu-btn"></div>
            <div id="loginbtn" class="first" style="text-transform: capitalize; margin-right: 2rem;"></div>



        </div>

    </header>
    <!---------  SALES AGENT FORM    ---------->
    <div class="main_page" style="margin-bottom:48%">


        <div class="Advertise_Info">

            <div class="x1"> SALES AGENT ADVERTISE INFO! </div>

            <img src="/IMAGES/SALES_AGENT/sample.jpg" alt="image" style="width:100%; height:400px; ">

            <div class="y1"> The Agro-Organic Farm Delicay as a whole are striving and thrilled to
                announce to you that, now </div>

            <div class="y2"> you use our services and advertise your own products.
                We as a team, as a fellow human being wanted to provide only organic fertilizers and </div>

            <div class="y3"> pesticides. The amount of effort you put into your advertising your products is much
                appreciated.
                There are thousands of farmers who are </div>

            <div class="y4"> not able to provide quality crops in the market.
                Now we are here to change the system and provide farmers the best Organic Fertilizers and </div>


            <div class="y5"> and best HTP Sprayers at cheaper rates.
                Following are the ways you can advertise your products. </div>

            <a class="getbutton" href="#"> Get Started! </a>

        </div>

        <br><br><br>
        <div class="vision">

            <div class="vision_heading"> Your Vision as A Sales Agent! </div>

            <div class="p11"> We assume you as a Sales Agent provide good Organic Fertilizers, Seeds and HTP Machines
                for farmers. </div>

            <img class="L1" src="/IMAGES/SALES_AGENT/L1.png">
            <img class="L2" src="/IMAGES/SALES_AGENT/L2.png">
            <img class="L3" src="/IMAGES/SALES_AGENT/L3.png">

            <div class="v1"> Increase Farmer's Yield and </div>
            <div class="v2"> Organic Productivity of crops</div>


            <div class="v3"> Help Farmer with less labour work and </div>
            <div class="v4"> increased efficiency of Time </div>


            <div class="v5"> Provide farmer some good Quality Seeds and Increase the crop </div>
            <div class="v6"> yield and sell his customers organic products. </div>
        </div>

        <h1 style="text-align: center; color:rgb(41, 123, 251); font-size:40px;"> Rules To follow for Advertising your
            Product below! </h1>
        <p
            style="text-indent: 16rem; font-size: 19px; margin:10px; line-height: 1.6rem; font-family: Georgia, 'Times New Roman', Times, serif;">
            Following are the ways a Sales Agent can advertise their Products. One way will be through providing
            CSV [Comma Seperated Values] Data and other way is to fill the Product form each time for the product they
            would like
            to advertise.
        </p>


        <p
            style="text-indent: 8rem; font-size: 19px; margin:10px; line-height: 1.6rem; font-family: Georgia, 'Times New Roman', Times, serif;">
            Remember, To advertise a product, we require the following details of the Product as a whole. </p>

        <ol start="1" style="font-size: 1.3rem;">
            <li style="font-size: 1.3rem;"> <span> Name of the Product </span> </li>
            <li style="font-size: 1.3rem;"> Image Link of the Product [We provide a website from which you can convert
                the Image to a Link] </li>
            <li style="font-size: 1.3rem;"> Maximum Retail Price [MRP] of the Product </li>
            <li style="font-size: 1.3rem;"> Selling Price of the Product </li>
            <li style="font-size: 1.3rem;"> Quantity Available </li>
            <li style="font-size: 1.3rem;"> Offer Percentage (if any) </li>
            <li style="font-size: 1.3rem;"> Delivery Charges to get the product from your place </li>
            <li style="font-size: 1.3rem;"> Type of the Product [You will be able to sell only Organic Fertilizers,
                Seeds and HTP Machines through our website] </li>
            <li style="font-size: 1.3rem;"> Finally, The Description of the Product </li>
        </ol>

        <br><br><br>
        <h1 style="text-align: center; color:rgb(8, 170, 8); font-size:40px;"> Following are the Steps to upload CSV
            Data! </h1>


        <p style="margin: 13px; font-family: Georgia, 'Times New Roman', Times, serif; font-size: 18px;">
            <a style="font-size: 20px; font-family: Georgia, 'Times New Roman', Times, serif; color:blue;"
                href="https://imgbb.com/" target="_blank"> Click Here! </a>
            To convert your Images into Links for you CSV Data.
        </p>

        <p
            style="margin: 15px; text-indent: 16rem; font-family: Georgia, 'Times New Roman', Times, serif; font-size: 18px; line-height: 1.7rem;">
            After opening the Link, upload the designated Image of the product you wanted and and click on upload.
            After the image is successfully uploaded, In the Embed codes part, select the dropdown as 'HTML full
            linked'.
            After selecting it, you will be able to see the link below, from that copy the link part that is inside the
            src attribute of Image Tag(img) . Now, you have successfully created the link for your Image and upload that
            link
            in the CSV File.
        </p>

        <p
            style="margin: 15px; text-indent: 16rem; font-family: Georgia, 'Times New Roman', Times, serif; font-size: 18px; line-height: 1.7rem;">
            Find the screenshot of the CSV Data on how to upload the data in the csv file. Here the first column
            represents the Product Name,
            Second column will have the Image link that was created using the website above, Third column will have the
            MRP,
            Fourth will have the Selling Price of the Product, Fifth column will have Quantity, Sixth will have Offer,
            Seventh will have the Delivery Charges, Eight column will have the Product Type and finally the last column
            will be having
            the Description of the Product.
        </p>
        <br>

        <br>
        <img src="/IMAGES/SALES_AGENT/CSV.png" alt="CSV Image" style="width:97%; margin-left:15px;">
        <p
            style="margin: 15px; text-indent: 16rem; font-family: Georgia, 'Times New Roman', Times, serif; font-size: 18px; line-height: 1.7rem;">
            Remember to follow the specific syntax for each and every column. And submit the file that just looks like
            in the
            screenshot above.
        </p>

        <br>
        <div class="csv_form">

            <div class="cc1"> Upload Your CSV File Here : </div>
            <div class="cc2"> Submit the File : </div>
            <form>
                                    <input style="visibility: hidden;" type="text" value="<%= user.phonenumber %>" name="phoneNumber">

                <input style="padding: 0px;" type="text" name="file-name" id="name" disabled>
                <input style="width: 35%;" id="files" name="file" type="file" multiple>
                <button style="cursor: pointer;" type="submit" class="csv_submit"> Submit </button>
            </form>

            <br> <br> <br> <br> <br>

            <h1 style="text-align: center; color:blue; font-size:40px; margin-top: 8rem;"> Upload Product Details
                thorugh the Form! </h1>


            <div class="SA_form">

                <form method="post" action="/SA_Product_Form_1" id="form_id_1">


                    <div class="pname"> Product Name </div>
                    <input style="width: 40%;" placeholder="Enter the Product Name" type="text" id="Product_Name"
                        name="product_name" title="Enter the name of the Product not more than 30 characters" required>






                    <div class="pimage"> Product Image (As Link)</div>
                    <input style="width: 40%;" type="text" name="product_img" id="Product_Image"
                        placeholder="Enter the Image Link" title="Upload the Image of the Product" required>






                    <div class="pmrp"> Product MRP </div>
                    <input type="number" name="product_mrp" id="MRP" placeholder="Enter the MRP"
                        title="Enter the MRP of the Product" required>





                    <div class="pselling_price"> Product Selling Price </div>
                    <input type="number" id="Selling_Price" name="product_selling_price" placeholder="Enter the Selling Price"
                        title="Enter the Selling Price of the Product" required>






                    <div class="pquantity"> Quantity Available </div>
                    <input type="number" id="Quantity" name="quantity_available" placeholder="Enter Qunatity"
                        title="Enter the Quantity available" required>






                    <div class="poffer"> Offer Percentage (If any) </div>
                    <input type="number" id="Offer" name="offer" placeholder="Enter Offer %"
                        title="Enter Offer Percentage(Only Number) if applicable else leave it as null">




                    <div class="pdelivery_charges"> Delivery Charges </div>
                    <input type="number" id="Delivery_Charges" name="delvary_charges"
                        placeholder="Enter the Delivery Charges" title="Enter the Delivery Charges of the Product"
                        required>





                    <div class="pproduct_type"> Select the Product Type </div>
                    <select name="product_type" id="Product_Type" title="Select the Type of the Product">
                        <option value="Organic Fertilizer"> Organic Fertilizer </option>
                        <option value="Seeds"> Seeds </option>
                        <option value="HTP Machines"> HTP Machines </option>
                    </select>




                    <div class="pdescription"> Write down the Description of the Product </div>
                    <textarea name="discription" id="Item_Description" rows="10" cols="120" style="resize: none;"
                        placeholder="Enter the Description of the Product here!"
                        title="Enter the Description of the Product not more than 20-30 words" maxlength="100"
                        required></textarea>
                    <br><br><br>

                    <input style="visibility: hidden;" type="text" value="<%= user.phonenumber %>" name="phoneNumber">

                    <button style="margin-top: 2rem;" id = "submit_button" onclick = "myfunc()" type = "submit" title = "Submit the Form"> Submit</button>
                    <button style="margin-top: 2rem;" id="reset_button" type="Reset"
                        title="Reset Your Response">Reset</button>

                </form>


            </div>
            <br><br><br>
        </div>

        <% if (successMsg) { %>
            <div class="popup">
                <img style="height: 5rem; width: 5rem;" src="/IMAGES/SLIDING_PICS/correct.gif" alt="">
                <p>
                    <%= successMsg %>
                </p>
                <span class="close" onclick="this.parentElement.style.display='none';">&times;</span>
            </div>
            <% } %>

    </div>
    <br><br><br><br><br>
    <div class="profile_data">

        <p id="back" style="cursor: pointer;">X</>

        <div class="cont123" id="con1">

            <div class="flex1">
                <!-- <div  class="first1" style="text-transform: capitalize; "><span id="loginbtn2"></span></div>  
        <img  class="first1" src="<%= user.imageurl %>" alt=""> -->

                <%if(!user.imageurl){%>
                    <div class="first1" style="text-transform: capitalize; "><span id="loginbtn2"></span></div>
                    <%}%>
                        <%if(user.imageurl){%>
                            <img class="first1" src="<%= user.imageurl %>" alt="">
                            <%}%>


            </div>
            <br>
            <a href="#file">
                <button class="image" id="ima">Upload photo</button>
            </a>
            <br>

            <p style="text-transform: capitalize;" id="name10" class="name_1" data-user="<%= user.user %>">
                <%= user.user %>
            </p>
            <hr>
            <br>

            <div class="attribute1">
                <label class="l1">Email</label>
                <p class="email">: <%= user.email %>
                </p>
            </div>
            <div class="attribute1">
                <label class="l1">phonenumber</label>
                <p style="display: inline-block;" class="phone">:<%= user.phonenumber %>
                </p>
            </div>
            <div class="attribute1">
                <label class="l1">State </label>
                <p style="display: inline-block;" class="state">:<%= user.State_Name %>
                </p>
            </div>
            <div class="attribute1">
                <label class="l1">PinCode</label>
                <p style="display: inline-block;" class="pincode">:<%= user.Pincode %>
                </p>
            </div>
            <div class="attribute1">
                <label class="l1">Address</label>
                <p style="display: inline-block;" class="Adderss">:<%= user.Address %>
                </p>
            </div>

            <button id="delete" class="my-button">Delete</button>
            <a href="#update">
                <button id="update" class="my-button1">Update</button>
            </a>


        </div>
        <br>
        <br>
        <h1>Upload Photo</h1>
        <div id="file">
            <form id="form1" action="/uploadimage" method="POST">

                <label for="textInput">Phone Number :</label>
                <input type="text" id="textInput" name="phone6" value="<%= user.phonenumber %>" readonly>

                <label for="fileInput">Choose a Photo/Url:</label>
                <input type="text" id="fileInput" name="imageurl">

                <input type="submit" value="Submit">

            </form>
        </div>
        <br><br>
        <h1>Update details</h1>
        <div id="update">
            <form id="form2" action="/update" method="post">
                <label for="name1">Name :</label>
                <input id="name110" type="text" name="user5" value="<%= user.user %>">
                <label for="email">Email:</label>
                <input id="email" type="email" name="email5" value="<%= user.email %>">
                <label for="phone">Phone Number:</label>
                <input type="text" id="phone" name="phonenumber5" value="<%= user.phonenumber %>" readonly>
                <label for="State_Name">State:</label>
                <input type="text" id="State_Name1" name="State_Name5" value="<%= user.State_Name %>">
                <label for="Pincode">Pincode:</label>
                <input type="text" id="Pincode1" name="Pincode5" value="<%= user.Pincode %>">
                <label for="Address">Address:</label>
                <textarea id="Address" name="Address5" maxlength="100" minlength="5" rows="3"
                    cols="44"><%= user.Address %></textarea>
                <input id="button1" type="submit" value="Submit">


            </form>
        </div>

    </div>
    <br><br><br><br>

    <div >
        <%- include('partials/Footer') %>
    </div>

        <script>
            let x = document.getElementById('name10').getAttribute('data-user');

            let y = x[0];

            document.getElementById('loginbtn').innerHTML = y;

            if (document.getElementById('loginbtn2'))
                document.getElementById('loginbtn2').innerHTML = y;

            // let img = document.getElementById('name10').getAttribute('data-user');

            let profile1 = document.querySelector('.profile');
            document.querySelector('#loginbtn').onclick = () => {
                profile1.classList.toggle('active');
                navbar.classList.remove('active');
            }

            let navbar = document.querySelector('.navbar');
            document.querySelector('#menu-btn').onclick = () => {
                navbar.classList.toggle('active');
                profile1.classList.remove('active');
            }




            var pattern_1 = /^[A-Za-z][A-Za-z0-9_]{2,20}$/;
            function user_validation() {
                var x = document.getElementById('name110');
                if (x.value == '' || !pattern_1.test(x.value)) {
                    alert('username should start with an alphabet and All other characters can be alphabets, numbers or an underscore ');
                    return false;
                }
                else {
                    return true;
                }
            }
            function email_validation() {
                var y = document.getElementById('email');
                if (y.value == '') {
                    alert('please use "@');
                    return false;
                }
                else {
                    return true;
                }
            }

            pattern_6 = /^[A-Za-z][A-Za-z\s]+$/;
            function state_validation1() {
                var st = document.getElementById('State_Name1');
                if (st.value == '' || !pattern_6.test(st.value)) {
                    alert('Enter valid state name..');
                    return false;

                }
                else {
                    return true;
                }
            }

            pattern_7 = /^[1-9][0-9]{5}$/;
            function pincode_validation1() {
                var pi = document.getElementById('Pincode1');
                if (pi.value == '' || !pattern_7.test(pi.value)) {
                    alert('Enter vaild pincode......');
                    return false;

                }
                else {
                    return true;
                }
            }

            var s = document.getElementById('form2');
            s.addEventListener('submit', (e) => {
                if (user_validation() == false || email_validation() == false || state_validation1() == false || pincode_validation1() == false) {
                    e.preventDefault();
                }
                else {
                    console.log("login sucessfully");
                }
            })


            const x1 = document.getElementsByClassName('main_page')[0];
            const x2 = document.getElementsByClassName('profile_data')[0];

            const x3 = document.getElementById('loginbtn');
            const x4 = document.getElementById('back');


            x3.addEventListener('click', fun)
            x4.addEventListener('click', fun2)

            function fun() {

                x2.style.display = 'inline';
                x1.style.display = 'none';


            }
            function fun2() {
                x1.style.display = 'inline';
                x2.style.display = 'none';

            }

            const form = document.querySelector('form');
            form.addEventListener('submit', (e) => {

                e.preventDefault();
                // Prevents HTML handling submission
                const name = document.getElementById("name");
                const files = document.getElementById("files");
                const formData = new FormData();
                // Creates empty formData object
                formData.append("name", name.value);
                // Appends value of text input
                for (let i = 0; i < files.files.length; i++) {
                    formData.append("files", files.files[i]);
                }
                // Appends value(s) of file input
                // Post data to Node and Express server:
                fetch('http://127.0.0.1:3000/Insert_SA_Product_Data', {
                    method: 'POST',
                    body: formData, // Payload is formData object
                })
                    .then(res => res.json())
                    .then(data => console.log(data));
            })

        </script>



</body>

</html>